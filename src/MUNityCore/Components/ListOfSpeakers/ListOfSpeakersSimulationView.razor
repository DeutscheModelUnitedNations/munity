@inject Services.FrontendSimulationService frontendSimulationService;
@inject Services.SpeakerlistHubService speakerlistHubService;

@if (ListOfSpeakers != null)
{
    <SpeakersPanel ListOfSpeakers="@ListOfSpeakers" />
    <QuestionsPanel ListOfSpeakers="@ListOfSpeakers" />
}
else
{
    <div class="row">
        <div class="col-12">
            <div class="alert alert-danger">
                Redeliste nicht geladen :/
            </div>
        </div>
    </div>
}

@code {
    public MUNity.Models.ListOfSpeakers.ListOfSpeakers ListOfSpeakers { get; set; }

    protected override void OnInitialized()
    {
        this.ListOfSpeakers = frontendSimulationService.CurrentSpeakerlist;
        this.speakerlistHubService.SpeakerlistChanged += delegate { this.StateHasChanged(); };
        base.OnInitialized();
    }
}
