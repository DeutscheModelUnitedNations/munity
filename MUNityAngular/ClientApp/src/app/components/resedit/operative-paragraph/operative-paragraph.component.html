<ng-template #popContent>
  <button class="btn btn-danger" (click)="p.close();delete()">Löschen</button>
</ng-template>

<app-munity-window *ngIf="!hideNotices" (onClose)="toggleNotices()" [title]="Notizen">
  <div class="card">
    <div class="card-body">
      <ul class="list-unstyled">
        <li class="media" *ngFor="let notice of paragraph.Notices">
          <div class="media-body">
            <h5 class="mt-0 mb-1">{{ notice.Title }}</h5>
            {{ notice.Text }}
          </div>
        </li>
      </ul>
    </div>
    <div class="card-footer">
      <h6>Kommentar schreiben</h6>
      <textarea class="form-control" [(ngModel)]="newNoticeText"></textarea>
      <button class="btn btn-block btn-primary" (click)="addNotice()">Hinzufügen</button>
    </div>
  </div>
</app-munity-window>



<div class="paragraph-box" [class.bg-info]="paragraph.IsVirtual === true">
  <div class="paragraph-title">
    {{ paragraph.Path }}
  </div>

  <button type="button" class="btn-notice btn-warning tooltip-wide" (click)="toggleNotices()" *ngIf="paragraph.Notices != null">
    <span>N</span>
    <span class="badge" *ngIf="paragraph.Notices.length > 0">{{ paragraph.Notices.length }}</span>
  </button>

  <div class="btn-group-vertical paragraph-tools">
    <button [disabled]="paragraph.IsVirtual === true" type="button" class="btn btn-danger btn-delete" placement="left" [ngbPopover]="popContent" triggers="manual"
            #p="ngbPopover" (click)="p.open()">
      X
    </button>
    <button [disabled]="paragraph.IsVirtual === true" (click)="moveUp()" type="button" class="btn btn-outline-primary btn-move btn-up" title="Nach oben verschieben">▲</button>
    <button [disabled]="paragraph.IsVirtual === true" (click)="moveDown()" type="button" class="btn btn-outline-primary btn-move btn-down">▼</button>

    <!-- This buttons are disabled for now. The Editing should be made different! -->
    <!--<button [disabled]="paragraph.IsVirtual === true" (click)="moveLeft()" type="button" class="btn btn-outline-primary btn-move btn-left">◄</button>
    <button [disabled]="paragraph.IsVirtual === true" (click)="moveRight()" type="button" class="btn btn-outline-primary btn-move btn-right">►</button>-->
  </div>

  <div class="form-group paragraph-textarea">
    <textarea class="form-control" #operativeTextArea id="operativeTextArea" rows="5" [disabled]="paragraph.IsVirtual === true" (keyup)="onKey($event)" maxlength="4000">{{ paragraph.Text }}</textarea>
  </div>
</div>
