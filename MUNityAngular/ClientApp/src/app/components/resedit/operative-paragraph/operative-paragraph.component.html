<ng-template #popContent>
  <button class="btn btn-danger" (click)="p.close();delete()">Löschen</button>
</ng-template>

<app-munity-window *ngIf="!hideNotices" (onClose)="toggleNotices()" [title]="Notizen">
  <div class="card">W
    <div class="card-body" style="max-height: 300Px; overflow: scroll">
      <app-notice *ngFor="let notice of paragraph.Notices" [notice]="notice"></app-notice>
    </div>
    <div class="card-footer">
      <h6>Kommentar schreiben</h6>
      <label>Titel</label>
      <input class="form-control" />

      <textarea class="form-control" [(ngModel)]="newNoticeText"></textarea>
      <div class="row">
        Tag Hinzufügen
      </div>
      <div class="form-inline align-items-center">
        <div class="col-4">
          <select class="custom-select mr-sm-2" id="inlineFormCustomSelect">
            <option class="bg-primary text-white" value="primary">Blau</option>
            <option class="bg-secondary text-white" value="secondary">Grau</option>
            <option class="bg-success text-white" value="success">Grün</option>
            <option class="bg-danger text-white" value="danger">Rot</option>
          </select>
        </div>
        <div class="col-8">
          <input class="form-control" type="text" />
        </div>
      </div>
      <button class="btn btn-block btn-primary" (click)="addNotice()">Hinzufügen</button>
    </div>
  </div>
</app-munity-window>



<div class="paragraph-box" [class.bg-info]="paragraph.IsVirtual === true">
  <div class="paragraph-title">
    {{ paragraph.Path }}
  </div>

  <button type="button" class="btn-notice btn-warning tooltip-wide" (click)="toggleNotices()" *ngIf="paragraph.Notices != null">
    <span>N</span>
    <span class="badge" *ngIf="paragraph.Notices.length > 0">{{ paragraph.Notices.length }}</span>
  </button>

  <div class="btn-group-vertical paragraph-tools">
    <button [disabled]="paragraph.IsVirtual === true" type="button" class="btn btn-danger btn-delete" placement="left" [ngbPopover]="popContent" triggers="manual"
            #p="ngbPopover" (click)="p.open()">
      X
    </button>
    <button [disabled]="paragraph.IsVirtual === true" (click)="moveUp()" type="button" class="btn btn-outline-primary btn-move btn-up" title="Nach oben verschieben">▲</button>
    <button [disabled]="paragraph.IsVirtual === true" (click)="moveDown()" type="button" class="btn btn-outline-primary btn-move btn-down">▼</button>

    <!-- This buttons are disabled for now. The Editing should be made different! -->
    <!--<button [disabled]="paragraph.IsVirtual === true" (click)="moveLeft()" type="button" class="btn btn-outline-primary btn-move btn-left">◄</button>
    <button [disabled]="paragraph.IsVirtual === true" (click)="moveRight()" type="button" class="btn btn-outline-primary btn-move btn-right">►</button>-->
  </div>

  <div class="form-group paragraph-textarea">
    <textarea class="form-control" #operativeTextArea id="operativeTextArea" rows="5" [disabled]="paragraph.IsVirtual === true" (keyup)="onKey($event)" maxlength="4000">{{ paragraph.Text }}</textarea>
  </div>
</div>
