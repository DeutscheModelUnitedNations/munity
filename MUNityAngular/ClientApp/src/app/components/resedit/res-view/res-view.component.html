<div *ngIf="!resolution">
    <h3 class="text-danger">Fehler beim Laden der Resolution!</h3>
</div>

<div *ngIf="resolution" class="container">
    <div class="title-section">
        <h3> {{ resolution.Topic }}</h3>
        <p>Einbringer: {{ resolution.SubmitterName }}</p>
        <p>Unterstützer: </p>
        <ng-container *ngFor="let name of resolution.SupporterNames">{{ name }}, </ng-container>
        <br />
        <br />
        <b>{{ resolution.CommitteeName | uppercase }},</b>
        <br />
    </div>

    <p class="operative-paragraph-text" *ngFor="let pre of resolution.Preamble.Paragraphs"> {{ pre.Text }} </p>

    <div *ngFor="let oa of resolution.OperativeSections" [class.bg-success]="oa.IsVirtual === true" [class.text-white]="oa.IsVirtual === true">
      <!-- Kopfzeile -->
      <p *ngIf="oa.IsVirtual === false" class="text-info amendment-counts" >
        Änderungsanträge: {{ oa.DeleteAmendmentCount}}
        Streichen,
        {{ oa.ChangeAmendmentCount }}
        Textänderung,
        {{ oa.MoveAmendmentCount }} Verschieben
      </p>
      <!-- Default Style -->
      <p *ngIf="activeAmendment(oa)==null" style="margin-top: -20px;" class="operative-paragraph-text">{{ oa.Path }} {{ oa.Text }}</p>
      <!-- Wenn dieser Absatz gesrichen oder Verschoben werden soll -->
      <div *ngIf="activeAmendment(oa)!=null && (activeAmendment(oa).Type==='delete' || activeAmendment(oa).Type==='move')" style="margin-top: -20px; " class="operative-paragraph-text">
        <p style="text-decoration: line-through; color: darkred;">{{ oa.Path }} {{ oa.Text }}</p>
        <p>Einbringer: {{ activeAmendment(oa).SubmitterName }}</p>
      </div>
      <div *ngIf="activeAmendment(oa)!=null && activeAmendment(oa).Type==='change'">
        <p style="margin-top: -20px; text-decoration: line-through; color: darkred;" class="operative-paragraph-text">{{ oa.Path }} {{ oa.Text }}</p>
        <p class="operative-paragraph-text" style="color: darkgreen;">{{ activeChangeAmendment(oa).NewText }}</p>
      </div>
      
      <br />
    </div>
</div>
