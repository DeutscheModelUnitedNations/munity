<p *ngIf="!conference">Konferenz wird geladen</p>
<div *ngIf="conference">
  <div class="row">
    <div class="col-12">
      <div class="jumbotron">
        <h1 class="display-4">{{ conference.Name }}</h1>
        <p class="lead">{{ conference.StartDate | date:'shortDate' }} - {{ conference.EndDate | date:'shortDate' }}</p>
      </div>
    </div>
  </div>

  <!-- Committees -->

  
  <div class="row">
    <div class="col-12">
      <a [routerLink]="['/mc/overview', conference.ID]">Konferenz bearbeiten</a>
    </div>
    <div class="col-12">
      <h1>Gremien</h1>
      <!-- Show if Conference-Admin-->
      <a [routerLink]="['/mc/committees', conference.ID]">bearbeiten</a>
    </div>
    <div *ngFor="let committee of conference.Committees" class="col-12">
      <div class="card b-1 hover-shadow mb-20">
        <div class="media card-body">
          <!--<div class="media-left pr-12">
            <img class="avatar avatar-xl no-radius" src="https://bootdey.com/img/Content/avatar/avatar1.png" alt="...">
          </div>-->
          <div class="media-body">
            <div class="mb-2">
              <span class="fs-20 pr-16">{{ committee.Name }}</span>
            </div>
            <small class="fs-16 fw-300 ls-1">{{ committee.FullName }}</small>
          </div>
          <div class="media-right text-right d-none d-md-block">
            <p class="fs-14 text-fade mb-12"><i class="fa fa-map-marker pr-1"></i> {{ committee.Abbreviation }}</p>
            <!--<span class="text-fade"><i class="fa fa-money pr-1"></i> $60 per hour</span>-->
          </div>
        </div>
        <footer class="card-footer flexbox align-items-center">
          <div>
            <strong>Letzte Anweseneheit </strong>
            <span>8/10 (80%) - 01.01.2020</span>
          </div>
          <div class="card-hover-show">
            <a class="btn btn-bold btn-primary" [routerLink]="['/p/check', committee.ID]">Anwesenheit feststellen</a>
            <a class="btn btn-bold btn-warning" href="#">Resolutionen</a>
          </div>
        </footer>
      </div>
    </div>
  </div>

  <div class="row">
    
    <!-- Rechte Spalte -->
    <div class="col-lg-6 col-xs-12">
      <div class="card border-dark w-100">
        <div class="card-header">Delegationen</div>
        <div class="card-body text-dark">
          <h5 class="card-title">Delegationen</h5>
          <p class="card-text">{{ conference.Delegations.length }} Delegationen gefunden.</p>

          <!-- Form zum hinzufügen einer vorahndenen Delegation -->

          <form>
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="inlineFormCustomSelectPref">Hinzufügen</label>
                <select class="form-control" id="inlineFormCustomSelectPref" [(ngModel)]="addDelegationSelection" [ngModelOptions]="{standalone: true}">
                  <option *ngFor="let delegation of presetDelegations" [ngValue]="delegation">{{ delegation.Name }}</option>
                </select>
              </div>

              <div class="form-group col-md-3">
                <label for="inputMinDelegationCount">Min. Größe</label>
                <input type="number" class="form-control" id="inputMinDelegationCount" placeholder="1" value="1">
              </div>

              <div class="form-group col-md-3">
                <label for="inputMaxDelegationCount">Max. Größe</label>
                <input type="number" class="form-control" id="inputMaxDelegationCount" placeholder="1" value="1">
              </div>
            </div>
            <button type="submit" class="btn btn-primary col-md-3" (click)="addDelegationClick()">Hinzufügen</button>
          </form>

          <table class="table">
            <thead>
              <tr>
                <th>Name</th>
              </tr>
            </thead>
            <thead>
              <tr *ngFor="let delegation of conference.Delegations">
                <td>{{ delegation.Name }}</td>
              </tr>
            </thead>
          </table>
        </div>
        <div class="card-footer">
          <button class="btn btn-block btn-primary">Delegation hinzufügen</button>
        </div>
      </div>
    </div>
    

    <div class="card border-danger mb-3" style="max-width: 18rem;">
      <div class="card-header">Resolutionen</div>
      <div class="card-body text-dark">
        <h5 class="card-title">Resolutionen</h5>
        <p class="card-text"># Resolutionen gefunden.</p>
      </div>
    </div>

    <div class="card border-danger mb-3" style="max-width: 18rem;">
      <div class="card-header">Redelisten</div>
      <div class="card-body text-dark">
        <h5 class="card-title">Redelisten</h5>
        <p class="card-text"># Redelisten gefunden.</p>
      </div>
    </div>

    <div class="card border-danger mb-3" style="max-width: 18rem;">
      <div class="card-header">Team</div>
      <div class="card-body text-dark">
        <h5 class="card-title">Team</h5>
        <p class="card-text"># Teamler(innen) gefunden.</p>
      </div>
    </div>

    <div class="card border-danger mb-3" style="max-width: 18rem;">
      <div class="card-header">Teilnehmende</div>
      <div class="card-body text-dark">
        <h5 class="card-title">Teilnehmende</h5>
        <p class="card-text"># Teilnehmende gefunden.</p>
      </div>
    </div>
  </div>
</div>





<!-- Dialog zum Anlegen einer neuen Delegation, falls in der Absoluten Liste diese bisher nicht exisiterte! -->
<ng-template #addDelegationModal>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Modal</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <!-- Name (name) -->
    <div class="row">
      <label class="control-label">Anzeigename</label>
      <div class="col-12">
        <input [(ngModel)]="newcommitteename" class="form-control" [ngModelOptions]="{standalone: true}">
      </div>
    </div>

    <!-- Vollständiger Name (FullName) -->
    <div class="row">
      <label class="control-label">Vollständiger Name</label>
      <div class="col-12">
        <input [(ngModel)]="newcommitteeabbreviation" class="form-control" [ngModelOptions]="{standalone: true}">
      </div>
    </div>

    <!-- Abkürzung (abbreviation) -->
    <div class="row">
      <label class="control-label">Kürzel bzw. ISO Code</label>
      <div class="col-12">
        <input [(ngModel)]="newcommitteearticle" class="form-control" [ngModelOptions]="{standalone: true}">
      </div>
    </div>

    <div class="row">
      <button class="btn btn-block btn-primary" (click)="addCommittee()">Hinzufügen</button>
    </div>
  </div>
</ng-template>
