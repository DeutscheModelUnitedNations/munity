<p *ngIf="!conference">Konferenz wird geladen</p>
<div *ngIf="conference">
  <div class="row">
    <div class="col-12">
      <div class="jumbotron">
        <h1 class="display-4">{{ conference.Name }}</h1>
        <p class="lead">{{ conference.StartDate | date:'shortDate' }} - {{ conference.EndDate | date:'shortDate' }}</p>
      </div>
    </div>
  </div>
  <div class="row">
    <!-- Linke Spalte -->
    <div class="col-lg-6 col-xs-12">
      <!-- Gremien Box -->
      <div class="card border-dark w-100">
        <div class="card-header">Gremien</div>
        <div class="card-body text-dark">
          <h5 class="card-title">Gremien</h5>

          <p class="card-text">{{ conference.Committees.length }} Gremien gefunden.</p>
          <table class="table">
            <thead>
              <tr>
                <th>Name </th>
                <th>Delegationen </th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let committee of conference.Committees">
                <td>{{ committee.Name}}</td>
                <td>{{ committee.DelegationList.length }}</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="card-footer">
          <button type="button" class="btn btn-block btn-primary" (click)="openModal(addCommitteeModal)">Gremium hinzufügen</button>
        </div>
      </div>
    </div>
    
    <!-- Rechte Spalte -->
    <div class="col-lg-6 col-xs-12">
      <div class="card border-dark w-100">
        <div class="card-header">Delegationen</div>
        <div class="card-body text-dark">
          <h5 class="card-title">Delegationen</h5>
          <p class="card-text">{{ conference.Delegations.length }} Delegationen gefunden.</p>

          <!-- Form zum hinzufügen einer vorahndenen Delegation -->

          <form>
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="inlineFormCustomSelectPref">Hinzufügen</label>
                <select class="form-control" id="inlineFormCustomSelectPref" [(ngModel)]="addDelegationSelection" [ngModelOptions]="{standalone: true}">
                  <option *ngFor="let delegation of presetDelegations" [ngValue]="delegation">{{ delegation.Name }}</option>
                </select>
              </div>

              <div class="form-group col-md-3">
                <label for="inputMinDelegationCount">Min. Größe</label>
                <input type="number" class="form-control" id="inputMinDelegationCount" placeholder="1" value="1">
              </div>

              <div class="form-group col-md-3">
                <label for="inputMaxDelegationCount">Max. Größe</label>
                <input type="number" class="form-control" id="inputMaxDelegationCount" placeholder="1" value="1">
              </div>
            </div>
            <button type="submit" class="btn btn-primary col-md-3" (click)="addDelegationClick()">Hinzufügen</button>
          </form>

          <table class="table">
            <thead>
              <tr>
                <th>Name</th>
              </tr>
            </thead>
            <thead>
              <tr *ngFor="let delegation of conference.Delegations">
                <td>{{ delegation.Name }}</td>
              </tr>
            </thead>
          </table>
        </div>
        <div class="card-footer">
          <button class="btn btn-block btn-primary">Delegation hinzufügen</button>
        </div>
      </div>
    </div>
    

    <div class="card border-danger mb-3" style="max-width: 18rem;">
      <div class="card-header">Resolutionen</div>
      <div class="card-body text-dark">
        <h5 class="card-title">Resolutionen</h5>
        <p class="card-text"># Resolutionen gefunden.</p>
      </div>
    </div>

    <div class="card border-danger mb-3" style="max-width: 18rem;">
      <div class="card-header">Redelisten</div>
      <div class="card-body text-dark">
        <h5 class="card-title">Redelisten</h5>
        <p class="card-text"># Redelisten gefunden.</p>
      </div>
    </div>

    <div class="card border-danger mb-3" style="max-width: 18rem;">
      <div class="card-header">Team</div>
      <div class="card-body text-dark">
        <h5 class="card-title">Team</h5>
        <p class="card-text"># Teamler(innen) gefunden.</p>
      </div>
    </div>

    <div class="card border-danger mb-3" style="max-width: 18rem;">
      <div class="card-header">Teilnehmende</div>
      <div class="card-body text-dark">
        <h5 class="card-title">Teilnehmende</h5>
        <p class="card-text"># Teilnehmende gefunden.</p>
      </div>
    </div>
  </div>
</div>

<!-- Add Committee Modal -->
<ng-template #addCommitteeModal>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Modal</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <!-- Name -->
    <div class="row">
      <label class="control-label">Anzeigename</label>
      <div class="col-12">
        <input [(ngModel)]="newcommitteename"
               class="form-control"
               [ngModelOptions]="{standalone: true}">
      </div>
    </div>

    <!-- Abkürzung -->
    <div class="row">
      <label class="control-label">Abkürzung/Kurzform</label>
      <div class="col-12">
        <input [(ngModel)]="newcommitteeabbreviation"
               class="form-control"
               [ngModelOptions]="{standalone: true}">
      </div>
    </div>

    <!-- Abkürzung -->
    <div class="row">
      <label class="control-label">Artikel (der/die/das)</label>
      <div class="col-12">
        <input [(ngModel)]="newcommitteearticle"
               class="form-control"
               [ngModelOptions]="{standalone: true}">
      </div>
    </div>

    <!-- Übergeordnetes Gremium -->
    <div class="row">
      <label class="control-label">Übergeodnetes Gremium</label>
      <div class="col-12">
        <input [(ngModel)]="newcommitteeparent"
               [typeahead]="conference.Committees"
               typeaheadOptionField="Name"
               class="form-control"
               [ngModelOptions]="{standalone: true}"
               aria-describedby="dsds">
        <small id="dsds" class="text-muted">Wenn keines existiert Feld leer lassen</small>
      </div>
    </div>

    <div class="row">
      <button class="btn btn-block btn-primary" (click)="addCommittee()">Hinzufügen</button>
    </div>
  </div>
</ng-template>

<!-- Dialog zum Anlegen einer neuen Delegation, falls in der Absoluten Liste diese bisher nicht exisiterte! -->
<ng-template #addDelegationModal>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Modal</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <!-- Name (name) -->
    <div class="row">
      <label class="control-label">Anzeigename</label>
      <div class="col-12">
        <input [(ngModel)]="newcommitteename" class="form-control" [ngModelOptions]="{standalone: true}">
      </div>
    </div>

    <!-- Vollständiger Name (FullName) -->
    <div class="row">
      <label class="control-label">Vollständiger Name</label>
      <div class="col-12">
        <input [(ngModel)]="newcommitteeabbreviation" class="form-control" [ngModelOptions]="{standalone: true}">
      </div>
    </div>

    <!-- Abkürzung (abbreviation) -->
    <div class="row">
      <label class="control-label">Kürzel bzw. ISO Code</label>
      <div class="col-12">
        <input [(ngModel)]="newcommitteearticle" class="form-control" [ngModelOptions]="{standalone: true}">
      </div>
    </div>

    <div class="row">
      <button class="btn btn-block btn-primary" (click)="addCommittee()">Hinzufügen</button>
    </div>
  </div>
</ng-template>
